{% extends "base.html" %}
{% load bootstrap %}
{% load widget_tweaks %}

{% block extra_head %}
<style>
    .form-row {
        margin-bottom: 20px;
    }
    input.error {
        border-color:#b94a48;
        -webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);
        -moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);
        box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);
        background-color: #b94a48;
        color: #fff;
    }
    .error-msg {
        border: 1px dotted #f00;
    }
</style>
{% endblock %}
{% block content %}
<div class="row">
    <form class="form-inline" method="post" action="">
        {% csrf_token %}
        {{ formset.management_form }}
        <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Name</th>
                <th></th>
                <th>Sessional 1</th>
                <th>Sessional 2</th>
                <th>Quiz</th>
                <th>Attendance</th>
                <th>Total Attendance</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for form in formset %}
            <tr>
                {% for field in form %}
                {% if field.errors %}
                <span class="error-msg">Correct Error please</span>
                {% endif %}
                    {% if forloop.first %}
                    <td>{{ field|add_class:"span3" }}</td>
                    {% elif field.errors %}
                    <td>{{ field|add_class:"span1 error" }}</td>
                    {% else %}
                    <td>{{ field|add_class:"span1" }}</td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
        </table>
        <button type="submit" class="btn btn-primary pull-right">Save</button>
    </form>
</div>
{% endblock %}
